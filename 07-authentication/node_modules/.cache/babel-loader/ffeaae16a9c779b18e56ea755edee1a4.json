{"ast":null,"code":"import _slicedToArray from\"C:/Users/bobso/Desktop/React Projects/07-authentication/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import classes from\"./StartingPageContent.module.css\";import{useContext,useState,useEffect}from\"react\";import AuthContext from\"../../store/auth-context\";import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var StartingPageContent=function StartingPageContent(){var authCtx=useContext(AuthContext);// Takes the declared time in AuthForm (3 minutes) in miliseconds\nvar time=new Date(localStorage.getItem(\"expirationTime\")).getTime()-new Date(new Date().getTime());var _useState=useState(time),_useState2=_slicedToArray(_useState,2),timer=_useState2[0],setTimer=_useState2[1];// Formates to minutes and seconds\nvar timeout=\"\".concat(Math.floor(time/1000/60),\" minute(s) and \").concat(Math.floor(time/1000%60),\" second(s) left\");useEffect(function(){var updateTimer=function updateTimer(){setTimer(timer-1000);};var timeout=setTimeout(updateTimer,1000);return function(){clearTimeout(timeout);};},[timer]);return/*#__PURE__*/_jsx(\"section\",{className:classes.starting,children:!authCtx.isLoggedIn?/*#__PURE__*/_jsx(\"h2\",{children:\"You're not logged in!\"}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"h1\",{children:\"You're logged in!\"}),/*#__PURE__*/_jsx(\"p\",{children:\"You will be logged out automatically after 3 minutes.\"}),/*#__PURE__*/_jsx(\"p\",{children:timeout})]})});};export default StartingPageContent;","map":{"version":3,"names":["classes","useContext","useState","useEffect","AuthContext","StartingPageContent","authCtx","time","Date","localStorage","getItem","getTime","timer","setTimer","timeout","Math","floor","updateTimer","setTimeout","clearTimeout","starting","isLoggedIn"],"sources":["C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/StartingPage/StartingPageContent.js"],"sourcesContent":["import classes from \"./StartingPageContent.module.css\";\nimport { useContext, useState, useEffect } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\n\nconst StartingPageContent = () => {\n\tconst authCtx = useContext(AuthContext);\n\n\t// Takes the declared time in AuthForm (3 minutes) in miliseconds\n\tconst time =\n\t\tnew Date(localStorage.getItem(\"expirationTime\")).getTime() -\n\t\tnew Date(new Date().getTime());\n\n\tconst [timer, setTimer] = useState(time);\n\n\t// Formates to minutes and seconds\n\tconst timeout = `${Math.floor(time / 1000 / 60)} minute(s) and ${Math.floor(\n\t\t(time / 1000) % 60\n\t)} second(s) left`;\n\n\tuseEffect(() => {\n\t\tconst updateTimer = () => {\n\t\t\tsetTimer(timer - 1000);\n\t\t};\n\t\tconst timeout = setTimeout(updateTimer, 1000);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeout);\n\t\t};\n\t}, [timer]);\n\n\treturn (\n\t\t<section className={classes.starting}>\n\t\t\t{!authCtx.isLoggedIn ? (\n\t\t\t\t<h2>You're not logged in!</h2>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<h1>You're logged in!</h1>\n\t\t\t\t\t<p>You will be logged out automatically after 3 minutes.</p>\n\t\t\t\t\t<p>{timeout}</p>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</section>\n\t);\n};\n\nexport default StartingPageContent;\n"],"mappings":"6IAAA,MAAOA,CAAAA,OAAP,KAAoB,kCAApB,CACA,OAASC,UAAT,CAAqBC,QAArB,CAA+BC,SAA/B,KAAgD,OAAhD,CACA,MAAOC,CAAAA,WAAP,KAAwB,0BAAxB,C,6IAEA,GAAMC,CAAAA,mBAAmB,CAAG,QAAtBA,CAAAA,mBAAsB,EAAM,CACjC,GAAMC,CAAAA,OAAO,CAAGL,UAAU,CAACG,WAAD,CAA1B,CAEA;AACA,GAAMG,CAAAA,IAAI,CACT,GAAIC,CAAAA,IAAJ,CAASC,YAAY,CAACC,OAAb,CAAqB,gBAArB,CAAT,EAAiDC,OAAjD,GACA,GAAIH,CAAAA,IAAJ,CAAS,GAAIA,CAAAA,IAAJ,GAAWG,OAAX,EAAT,CAFD,CAIA,cAA0BT,QAAQ,CAACK,IAAD,CAAlC,wCAAOK,KAAP,eAAcC,QAAd,eAEA;AACA,GAAMC,CAAAA,OAAO,WAAMC,IAAI,CAACC,KAAL,CAAWT,IAAI,CAAG,IAAP,CAAc,EAAzB,CAAN,2BAAoDQ,IAAI,CAACC,KAAL,CAC/DT,IAAI,CAAG,IAAR,CAAgB,EADgD,CAApD,mBAAb,CAIAJ,SAAS,CAAC,UAAM,CACf,GAAMc,CAAAA,WAAW,CAAG,QAAdA,CAAAA,WAAc,EAAM,CACzBJ,QAAQ,CAACD,KAAK,CAAG,IAAT,CAAR,CACA,CAFD,CAGA,GAAME,CAAAA,OAAO,CAAGI,UAAU,CAACD,WAAD,CAAc,IAAd,CAA1B,CAEA,MAAO,WAAM,CACZE,YAAY,CAACL,OAAD,CAAZ,CACA,CAFD,CAGA,CATQ,CASN,CAACF,KAAD,CATM,CAAT,CAWA,mBACC,gBAAS,SAAS,CAAEZ,OAAO,CAACoB,QAA5B,UACE,CAACd,OAAO,CAACe,UAAT,cACA,6CADA,cAGA,wCACC,yCADD,cAEC,4EAFD,cAGC,mBAAIP,OAAJ,EAHD,GAJF,EADD,CAaA,CAvCD,CAyCA,cAAeT,CAAAA,mBAAf"},"metadata":{},"sourceType":"module"}
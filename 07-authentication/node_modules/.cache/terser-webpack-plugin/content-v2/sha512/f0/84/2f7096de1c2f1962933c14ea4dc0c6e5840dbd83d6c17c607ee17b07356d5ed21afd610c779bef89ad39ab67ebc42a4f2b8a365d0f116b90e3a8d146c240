{"code":"(this[\"webpackJsonpreact-complete-guide\"]=this[\"webpackJsonpreact-complete-guide\"]||[]).push([[0],{10:function(e,t,n){e.exports={auth:\"AuthForm_auth__1NS4S\",control:\"AuthForm_control__39Bm2\",actions:\"AuthForm_actions__3cjU7\",toggle:\"AuthForm_toggle__K3Lux\"}},12:function(e,t,n){e.exports={form:\"ProfileForm_form__35yvD\",control:\"ProfileForm_control__N7-2E\",action:\"ProfileForm_action__26IYM\"}},15:function(e,t,n){e.exports={header:\"MainNavigation_header__2k7Jk\",logo:\"MainNavigation_logo__3ZXFS\"}},20:function(e,t,n){e.exports={profile:\"UserProfile_profile__3ugRG\"}},21:function(e,t,n){e.exports={starting:\"StartingPageContent_starting__3aeHz\"}},30:function(e,t,n){},39:function(e,t,n){\"use strict\";n.r(t);var o,c=n(17),r=n.n(c),i=n(7),a=(n(30),n(2)),s=n(1),l=n.n(s),u=n(8),j=n(0),d=l.a.createContext({token:\"\",isLoggedIn:!1,login:function(e){},logout:function(){},timeout:null}),b=function(){var e=localStorage.getItem(\"token\"),t=function(e){var t=(new Date).getTime();return new Date(e).getTime()-t}(localStorage.getItem(\"expirationTime\"));return t<=3e3?(localStorage.removeItem(\"token\"),localStorage.removeItem(\"expirationTime\"),null):{token:e,duration:t}},h=function(e){var t,n=b();n&&(t=n.token);var c=Object(s.useState)(t),r=Object(u.a)(c,2),i=r[0],a=r[1],l=!!i,h=Object(s.useCallback)((function(){a(null),localStorage.removeItem(\"token\"),localStorage.removeItem(\"expirationTime\"),o&&clearTimeout(o)}),[]);Object(s.useEffect)((function(){n&&(o=setTimeout(h,n.duration))}),[n,h]);var O={token:i,isLoggedIn:l,login:function(e,t){a(e),localStorage.setItem(\"token\",e),localStorage.setItem(\"expirationTime\",t),o=setTimeout(h,18e4)},logout:h};return Object(j.jsx)(d.Provider,{value:O,children:e.children})},O=d,g=n(15),m=n.n(g),f=function(){var e=Object(a.g)(),t=Object(s.useContext)(O),n=t.isLoggedIn;return Object(j.jsxs)(\"header\",{className:m.a.header,children:[Object(j.jsx)(i.b,{to:\"/\",children:Object(j.jsx)(\"div\",{className:m.a.logo,children:\"React Auth\"})}),Object(j.jsx)(\"nav\",{children:Object(j.jsxs)(\"ul\",{children:[!n&&Object(j.jsx)(\"li\",{children:Object(j.jsx)(i.b,{to:\"/auth\",children:\"Login\"})}),n&&Object(j.jsx)(\"li\",{children:Object(j.jsx)(i.b,{to:\"/profile\",children:\"Profile\"})}),n&&Object(j.jsx)(\"li\",{children:Object(j.jsx)(\"button\",{onClick:function(){t.logout(),e.replace(\"/auth\")},children:\"Logout\"})})]})})]})},x=function(e){return Object(j.jsxs)(s.Fragment,{children:[Object(j.jsx)(f,{}),Object(j.jsx)(\"main\",{children:e.children})]})},p=n(12),v=n.n(p),S=function(){var e=Object(a.g)(),t=Object(s.useRef)(),n=Object(s.useContext)(O);return Object(j.jsxs)(\"form\",{className:v.a.form,onSubmit:function(o){o.preventDefault();t.current.value;fetch(\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\",{method:\"POST\",body:JSON.stringify({idToken:n.token,password:n.password,returnSecureToken:!1}),headers:{\"Content-Type\":\"application-json\"}}).then((function(t){e.replace(\"/\")}))},children:[Object(j.jsxs)(\"div\",{className:v.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),Object(j.jsx)(\"input\",{type:\"password\",id:\"new-password\",minLength:\"6\",ref:t})]}),Object(j.jsx)(\"div\",{className:v.a.action,children:Object(j.jsx)(\"button\",{children:\"Change Password\"})})]})},_=n(20),w=n.n(_),k=function(){return Object(j.jsxs)(\"section\",{className:w.a.profile,children:[Object(j.jsx)(\"h1\",{children:\"Your User Profile\"}),Object(j.jsx)(S,{})]})},y=n(10),I=n.n(y),T=function(){var e=Object(a.g)(),t=Object(s.useState)(!0),n=Object(u.a)(t,2),o=n[0],c=n[1],r=Object(s.useState)(!1),i=Object(u.a)(r,2),l=i[0],d=i[1],b=Object(s.useContext)(O),h=Object(s.useRef)(),g=Object(s.useRef)();return Object(j.jsxs)(\"section\",{className:I.a.auth,children:[Object(j.jsx)(\"h1\",{children:o?\"Login\":\"Sign Up\"}),Object(j.jsxs)(\"form\",{onSubmit:function(t){t.preventDefault();var n,c=h.current.value,r=g.current.value;d(!0),n=o?\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\":\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\",fetch(n,{method:\"POST\",body:JSON.stringify({email:c,password:r,returnSecureToken:!0}),headers:{\"Content-Type\":\"application/json\"}}).then((function(e){return d(!1),e.ok?(h.current.value=\"\",g.current.value=\"\",e.json()):(g.current.value=\"\",g.current.focus(),e.json().then((function(e){var t=\"Authentication failed!\";throw e&&e.error&&e.error.message&&(t=e.error.message),new Error(t)})))})).then((function(t){var n=new Date((new Date).getTime()+18e4);b.login(t.idToken,n.toISOString()),e.replace(\"/\")})).catch((function(e){alert(e.message)}))},children:[Object(j.jsxs)(\"div\",{className:I.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"email\",children:\"Your Email\"}),Object(j.jsx)(\"input\",{type:\"email\",id:\"email\",required:!0,ref:h})]}),Object(j.jsxs)(\"div\",{className:I.a.control,children:[Object(j.jsx)(\"label\",{htmlFor:\"password\",children:\"Your Password\"}),Object(j.jsx)(\"input\",{type:\"password\",id:\"password\",required:!0,ref:g})]}),Object(j.jsxs)(\"div\",{className:I.a.actions,children:[!l&&Object(j.jsx)(\"button\",{children:o?\"Login\":\"Create Account\"}),l&&Object(j.jsx)(\"p\",{style:{color:\"white\"},children:\"Sending request...\"}),Object(j.jsx)(\"button\",{type:\"button\",className:I.a.toggle,onClick:function(){c((function(e){return!e}))},children:o?\"Create new account\":\"Login with existing account\"})]})]})]})},N=function(){return Object(j.jsx)(T,{})},F=n(21),C=n.n(F),L=function(){var e=Object(s.useContext)(O),t=new Date(localStorage.getItem(\"expirationTime\")).getTime()-new Date((new Date).getTime()),n=Object(s.useState)(t),o=Object(u.a)(n,2),c=o[0],r=o[1],i=\"\".concat(Math.floor(t/1e3/60),\" minute(s) and \").concat(Math.floor(t/1e3%60),\" second(s) left\");return Object(s.useEffect)((function(){var e=setTimeout((function(){r(c-1e3)}),1e3);return function(){clearTimeout(e)}}),[c]),Object(j.jsx)(\"section\",{className:C.a.starting,children:e.isLoggedIn?Object(j.jsxs)(j.Fragment,{children:[Object(j.jsx)(\"h1\",{children:\"You're logged in!\"}),Object(j.jsx)(\"p\",{children:\"You will be logged out automatically after 3 minutes.\"}),Object(j.jsx)(\"p\",{children:i})]}):Object(j.jsx)(\"h2\",{children:\"You're not logged in!\"})})},P=function(){return Object(j.jsx)(L,{})};var D=function(){var e=Object(s.useContext)(O);return Object(j.jsx)(x,{children:Object(j.jsxs)(a.d,{children:[Object(j.jsx)(a.b,{path:\"/\",exact:!0,children:Object(j.jsx)(P,{})}),!e.isLoggedIn&&Object(j.jsx)(a.b,{path:\"/auth\",children:Object(j.jsx)(N,{})}),Object(j.jsxs)(a.b,{path:\"/profile\",children:[e.isLoggedIn&&Object(j.jsx)(k,{}),!e.isLoggedIn&&Object(j.jsx)(a.a,{to:\"/auth\"})]}),Object(j.jsx)(a.b,{path:\"*\",children:Object(j.jsx)(a.a,{to:\"/\"})})]})})};r.a.createRoot(document.getElementById(\"root\")).render(Object(j.jsx)(h,{children:Object(j.jsx)(i.a,{children:Object(j.jsx)(D,{})})}))}},[[39,1,2]]]);","name":"static/js/main.ddd36a29.chunk.js","map":{"version":3,"sources":["static/js/main.ddd36a29.chunk.js"],"names":["this","push","module","exports","__webpack_require__","auth","control","actions","toggle","form","action","header","logo","profile","starting","__webpack_exports__","r","logoutTimer","client","client_default","n","react_router_dom","react_router","react","react_default","slicedToArray","jsx_runtime","AuthContext","a","createContext","token","isLoggedIn","login","logout","timeout","retrieveStoredToken","storedToken","localStorage","getItem","remainingTime","expirationTime","currentTime","Date","getTime","calculateRrmainingTime","removeItem","duration","auth_context_AuthContextProvider","props","initialToken","tokenData","_useState","Object","_useState2","setToken","userIsLoggedIn","logoutHandler","clearTimeout","setTimeout","contextValue","setItem","Provider","value","children","auth_context","MainNavigation_module","MainNavigation_module_default","Layout_MainNavigation","history","authCtx","className","to","onClick","replace","components_Layout_Layout","ProfileForm_module","ProfileForm_module_default","Profile_ProfileForm","newPasswordInputRef","onSubmit","event","preventDefault","current","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","res","htmlFor","type","id","minLength","ref","UserProfile_module","UserProfile_module_default","Profile_UserProfile","AuthForm_module","AuthForm_module_default","Auth_AuthForm","isLogin","setIsLogin","_useState3","_useState4","isLoading","setIsLoading","emailInputRef","passwordInputRef","url","enteredEmail","eneteredPassword","email","ok","json","focus","data","errorMessage","error","message","Error","toISOString","catch","err","alert","required","style","color","prevState","pages_AuthPage","StartingPageContent_module","StartingPageContent_module_default","StartingPage_StartingPageContent","time","timer","setTimer","concat","Math","floor","pages_HomePage","src_App","path","exact","createRoot","document","getElementById","render"],"mappings":"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"},"input":"(this[\"webpackJsonpreact-complete-guide\"] = this[\"webpackJsonpreact-complete-guide\"] || []).push([[0],{\n\n/***/ 10:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__1NS4S\",\"control\":\"AuthForm_control__39Bm2\",\"actions\":\"AuthForm_actions__3cjU7\",\"toggle\":\"AuthForm_toggle__K3Lux\"};\n\n/***/ }),\n\n/***/ 12:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__35yvD\",\"control\":\"ProfileForm_control__N7-2E\",\"action\":\"ProfileForm_action__26IYM\"};\n\n/***/ }),\n\n/***/ 15:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__2k7Jk\",\"logo\":\"MainNavigation_logo__3ZXFS\"};\n\n/***/ }),\n\n/***/ 20:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__3ugRG\"};\n\n/***/ }),\n\n/***/ 21:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPageContent_starting__3aeHz\"};\n\n/***/ }),\n\n/***/ 30:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ 39:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/react-dom/client.js\nvar client = __webpack_require__(17);\nvar client_default = /*#__PURE__*/__webpack_require__.n(client);\n\n// EXTERNAL MODULE: ./node_modules/react-router-dom/esm/react-router-dom.js\nvar react_router_dom = __webpack_require__(7);\n\n// EXTERNAL MODULE: ./src/index.css\nvar src = __webpack_require__(30);\n\n// EXTERNAL MODULE: ./node_modules/react-router/esm/react-router.js\nvar react_router = __webpack_require__(2);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(1);\nvar react_default = /*#__PURE__*/__webpack_require__.n(react);\n\n// EXTERNAL MODULE: ./node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 5 modules\nvar slicedToArray = __webpack_require__(8);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/store/auth-context.js\nvar logoutTimer;var AuthContext=/*#__PURE__*/react_default.a.createContext({token:\"\",isLoggedIn:false,login:function login(token){},logout:function logout(){},timeout:null});var calculateRrmainingTime=function calculateRrmainingTime(expirationTime){var currentTime=new Date().getTime();var adjExpirationTime=new Date(expirationTime).getTime();var remainingDuration=adjExpirationTime-currentTime;return remainingDuration;};var retrieveStoredToken=function retrieveStoredToken(){var storedToken=localStorage.getItem(\"token\");var storedExpirationDate=localStorage.getItem(\"expirationTime\");var remainingTime=calculateRrmainingTime(storedExpirationDate);if(remainingTime<=3000){localStorage.removeItem(\"token\");localStorage.removeItem(\"expirationTime\");return null;}return{token:storedToken,duration:remainingTime};};var auth_context_AuthContextProvider=function AuthContextProvider(props){var tokenData=retrieveStoredToken();var initialToken;if(tokenData){initialToken=tokenData.token;}var _useState=Object(react[\"useState\"])(initialToken),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),token=_useState2[0],setToken=_useState2[1];var userIsLoggedIn=!!token;var logoutHandler=Object(react[\"useCallback\"])(function(){setToken(null);localStorage.removeItem(\"token\");localStorage.removeItem(\"expirationTime\");if(logoutTimer){clearTimeout(logoutTimer);}},[]);var loginHandler=function loginHandler(token,expirationTime){setToken(token);localStorage.setItem(\"token\",token);localStorage.setItem(\"expirationTime\",expirationTime);// Used to set the timeout correlated with Firebase (1h by default)\n// const remainingTime = calculateRrmainingTime(expirationTime);\nlogoutTimer=setTimeout(logoutHandler,3*60*1000);};Object(react[\"useEffect\"])(function(){if(tokenData){logoutTimer=setTimeout(logoutHandler,tokenData.duration);}},[tokenData,logoutHandler]);var contextValue={token:token,isLoggedIn:userIsLoggedIn,login:loginHandler,logout:logoutHandler};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(AuthContext.Provider,{value:contextValue,children:props.children});};/* harmony default export */ var auth_context = (AuthContext);\n// EXTERNAL MODULE: ./src/components/Layout/MainNavigation.module.css\nvar MainNavigation_module = __webpack_require__(15);\nvar MainNavigation_module_default = /*#__PURE__*/__webpack_require__.n(MainNavigation_module);\n\n// CONCATENATED MODULE: ./src/components/Layout/MainNavigation.js\nvar MainNavigation_MainNavigation=function MainNavigation(){var history=Object(react_router[\"g\" /* useHistory */])();var authCtx=Object(react[\"useContext\"])(auth_context);var isLoggedIn=authCtx.isLoggedIn;var logoutHandler=function logoutHandler(){authCtx.logout();history.replace(\"/auth\");};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"header\",{className:MainNavigation_module_default.a.header,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:MainNavigation_module_default.a.logo,children:\"React Auth\"})}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"nav\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"ul\",{children:[!isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/auth\",children:\"Login\"})}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"b\" /* Link */],{to:\"/profile\",children:\"Profile\"})}),isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"li\",{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{onClick:logoutHandler,children:\"Logout\"})})]})})]});};/* harmony default export */ var Layout_MainNavigation = (MainNavigation_MainNavigation);\n// CONCATENATED MODULE: ./src/components/Layout/Layout.js\nvar Layout_Layout=function Layout(props){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Layout_MainNavigation,{}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"main\",{children:props.children})]});};/* harmony default export */ var components_Layout_Layout = (Layout_Layout);\n// EXTERNAL MODULE: ./src/components/Profile/ProfileForm.module.css\nvar ProfileForm_module = __webpack_require__(12);\nvar ProfileForm_module_default = /*#__PURE__*/__webpack_require__.n(ProfileForm_module);\n\n// CONCATENATED MODULE: ./src/components/Profile/ProfileForm.js\nvar ProfileForm_ProfileForm=function ProfileForm(){var history=Object(react_router[\"g\" /* useHistory */])();var newPasswordInputRef=Object(react[\"useRef\"])();var authCtx=Object(react[\"useContext\"])(auth_context);var submitHandler=function submitHandler(event){event.preventDefault();var enteredNewPassword=newPasswordInputRef.current.value;// add validation (optional)\nfetch(\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\",{method:\"POST\",body:JSON.stringify({idToken:authCtx.token,password:authCtx.password,returnSecureToken:false}),headers:{\"Content-Type\":\"application-json\"}}).then(function(res){// assumption: Always succeeds!\nhistory.replace(\"/\");});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{className:ProfileForm_module_default.a.form,onSubmit:submitHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:ProfileForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"new-password\",children:\"New Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"new-password\",minLength:\"6\",ref:newPasswordInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:ProfileForm_module_default.a.action,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:\"Change Password\"})})]});};/* harmony default export */ var Profile_ProfileForm = (ProfileForm_ProfileForm);\n// EXTERNAL MODULE: ./src/components/Profile/UserProfile.module.css\nvar UserProfile_module = __webpack_require__(20);\nvar UserProfile_module_default = /*#__PURE__*/__webpack_require__.n(UserProfile_module);\n\n// CONCATENATED MODULE: ./src/components/Profile/UserProfile.js\nvar UserProfile_UserProfile=function UserProfile(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:UserProfile_module_default.a.profile,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"Your User Profile\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_ProfileForm,{})]});};/* harmony default export */ var Profile_UserProfile = (UserProfile_UserProfile);\n// EXTERNAL MODULE: ./src/components/Auth/AuthForm.module.css\nvar AuthForm_module = __webpack_require__(10);\nvar AuthForm_module_default = /*#__PURE__*/__webpack_require__.n(AuthForm_module);\n\n// CONCATENATED MODULE: ./src/components/Auth/AuthForm.js\nvar AuthForm_AuthForm=function AuthForm(){var history=Object(react_router[\"g\" /* useHistory */])();var _useState=Object(react[\"useState\"])(true),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),isLogin=_useState2[0],setIsLogin=_useState2[1];var _useState3=Object(react[\"useState\"])(false),_useState4=Object(slicedToArray[\"a\" /* default */])(_useState3,2),isLoading=_useState4[0],setIsLoading=_useState4[1];var authCtx=Object(react[\"useContext\"])(auth_context);var emailInputRef=Object(react[\"useRef\"])();var passwordInputRef=Object(react[\"useRef\"])();var switchAuthModeHandler=function switchAuthModeHandler(){setIsLogin(function(prevState){return!prevState;});};var submitHandler=function submitHandler(event){event.preventDefault();var enteredEmail=emailInputRef.current.value;var eneteredPassword=passwordInputRef.current.value;// optional: Add validation\nsetIsLoading(true);var url;if(isLogin){url=\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\";}else{url=\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\";}fetch(url,{method:\"POST\",body:JSON.stringify({email:enteredEmail,password:eneteredPassword,returnSecureToken:true}),headers:{\"Content-Type\":\"application/json\"}}).then(function(res){setIsLoading(false);if(res.ok){emailInputRef.current.value=\"\";passwordInputRef.current.value=\"\";return res.json();}else{passwordInputRef.current.value=\"\";passwordInputRef.current.focus();return res.json().then(function(data){// show an error modal\n// console.log(data.error.message);\nvar errorMessage=\"Authentication failed!\";if(data&&data.error&&data.error.message){errorMessage=data.error.message;}throw new Error(errorMessage);});}}).then(function(data){var expirationTime=new Date(new Date().getTime()+3*60*1000);authCtx.login(data.idToken,expirationTime.toISOString());history.replace(\"/\");}).catch(function(err){alert(err.message);});};return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"section\",{className:AuthForm_module_default.a.auth,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:isLogin?\"Login\":\"Sign Up\"}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"form\",{onSubmit:submitHandler,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"email\",children:\"Your Email\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"email\",id:\"email\",required:true,ref:emailInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.control,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"label\",{htmlFor:\"password\",children:\"Your Password\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"input\",{type:\"password\",id:\"password\",required:true,ref:passwordInputRef})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(\"div\",{className:AuthForm_module_default.a.actions,children:[!isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{children:isLogin?\"Login\":\"Create Account\"}),isLoading&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{style:{color:\"white\"},children:\"Sending request...\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"button\",{type:\"button\",className:AuthForm_module_default.a.toggle,onClick:switchAuthModeHandler,children:isLogin?\"Create new account\":\"Login with existing account\"})]})]})]});};/* harmony default export */ var Auth_AuthForm = (AuthForm_AuthForm);\n// CONCATENATED MODULE: ./src/pages/AuthPage.js\nvar AuthPage_AuthPage=function AuthPage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Auth_AuthForm,{});};/* harmony default export */ var pages_AuthPage = (AuthPage_AuthPage);\n// EXTERNAL MODULE: ./src/components/StartingPage/StartingPageContent.module.css\nvar StartingPageContent_module = __webpack_require__(21);\nvar StartingPageContent_module_default = /*#__PURE__*/__webpack_require__.n(StartingPageContent_module);\n\n// CONCATENATED MODULE: ./src/components/StartingPage/StartingPageContent.js\nvar StartingPageContent_StartingPageContent=function StartingPageContent(){var authCtx=Object(react[\"useContext\"])(auth_context);// Takes the declared time in AuthForm (3 minutes) in miliseconds\nvar time=new Date(localStorage.getItem(\"expirationTime\")).getTime()-new Date(new Date().getTime());var _useState=Object(react[\"useState\"])(time),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),timer=_useState2[0],setTimer=_useState2[1];// Formates to minutes and seconds\nvar timeout=\"\".concat(Math.floor(time/1000/60),\" minute(s) and \").concat(Math.floor(time/1000%60),\" second(s) left\");Object(react[\"useEffect\"])(function(){var updateTimer=function updateTimer(){setTimer(timer-1000);};var timeout=setTimeout(updateTimer,1000);return function(){clearTimeout(timeout);};},[timer]);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"section\",{className:StartingPageContent_module_default.a.starting,children:!authCtx.isLoggedIn?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h2\",{children:\"You're not logged in!\"}):/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(jsx_runtime[\"Fragment\"],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"h1\",{children:\"You're logged in!\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:\"You will be logged out automatically after 3 minutes.\"}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:timeout})]})});};/* harmony default export */ var StartingPage_StartingPageContent = (StartingPageContent_StartingPageContent);\n// CONCATENATED MODULE: ./src/pages/HomePage.js\nvar HomePage_HomePage=function HomePage(){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(StartingPage_StartingPageContent,{});};/* harmony default export */ var pages_HomePage = (HomePage_HomePage);\n// CONCATENATED MODULE: ./src/App.js\nfunction App(){var authCtx=Object(react[\"useContext\"])(auth_context);return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_Layout_Layout,{children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"d\" /* Switch */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/\",exact:true,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_HomePage,{})}),!authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"/auth\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(pages_AuthPage,{})}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(react_router[\"b\" /* Route */],{path:\"/profile\",children:[authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Profile_UserProfile,{}),!authCtx.isLoggedIn&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/auth\"})]}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"b\" /* Route */],{path:\"*\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router[\"a\" /* Redirect */],{to:\"/\"})})]})});}/* harmony default export */ var src_App = (App);\n// CONCATENATED MODULE: ./src/index.js\nvar root=client_default.a.createRoot(document.getElementById(\"root\"));root.render(/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(auth_context_AuthContextProvider,{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(react_router_dom[\"a\" /* BrowserRouter */],{children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(src_App,{})})}));\n\n/***/ })\n\n},[[39,1,2]]]);","inputSourceMap":{"version":3,"sources":["C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\src\\components\\Auth\\AuthForm.module.css","C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\src\\components\\Profile\\ProfileForm.module.css","C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\src\\components\\Layout\\MainNavigation.module.css","C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\src\\components\\Profile\\UserProfile.module.css","C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\src\\components\\StartingPage\\StartingPageContent.module.css","C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-4-0!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-4-1!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\node_modules\\postcss-loader\\src\\index.js??postcss!C:\\Users\\bobso\\Desktop\\React Projects\\07-authentication\\src\\index.css","C:/Users/bobso/Desktop/React Projects/07-authentication/src/store/auth-context.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/Layout/MainNavigation.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/Layout/Layout.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/Profile/ProfileForm.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/Profile/UserProfile.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/Auth/AuthForm.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/pages/AuthPage.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/components/StartingPage/StartingPageContent.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/pages/HomePage.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/App.js","C:/Users/bobso/Desktop/React Projects/07-authentication/src/index.js"],"names":["logoutTimer","AuthContext","React","createContext","token","isLoggedIn","login","logout","timeout","calculateRrmainingTime","expirationTime","currentTime","Date","getTime","adjExpirationTime","remainingDuration","retrieveStoredToken","storedToken","localStorage","getItem","storedExpirationDate","remainingTime","removeItem","duration","AuthContextProvider","props","tokenData","initialToken","useState","setToken","userIsLoggedIn","logoutHandler","useCallback","clearTimeout","loginHandler","setItem","setTimeout","useEffect","contextValue","children","MainNavigation","history","useHistory","authCtx","useContext","replace","classes","header","logo","Layout","ProfileForm","newPasswordInputRef","useRef","submitHandler","event","preventDefault","enteredNewPassword","current","value","fetch","method","body","JSON","stringify","idToken","password","returnSecureToken","headers","then","res","form","control","action","UserProfile","profile","AuthForm","isLogin","setIsLogin","isLoading","setIsLoading","emailInputRef","passwordInputRef","switchAuthModeHandler","prevState","enteredEmail","eneteredPassword","url","email","ok","json","focus","data","errorMessage","error","message","Error","toISOString","catch","err","alert","auth","actions","color","toggle","AuthPage","StartingPageContent","time","timer","setTimer","Math","floor","updateTimer","starting","HomePage","App","root","ReactDOM","createRoot","document","getElementById","render"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"auth\":\"AuthForm_auth__1NS4S\",\"control\":\"AuthForm_control__39Bm2\",\"actions\":\"AuthForm_actions__3cjU7\",\"toggle\":\"AuthForm_toggle__K3Lux\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"form\":\"ProfileForm_form__35yvD\",\"control\":\"ProfileForm_control__N7-2E\",\"action\":\"ProfileForm_action__26IYM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"MainNavigation_header__2k7Jk\",\"logo\":\"MainNavigation_logo__3ZXFS\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"profile\":\"UserProfile_profile__3ugRG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"starting\":\"StartingPageContent_starting__3aeHz\"};","// extracted by mini-css-extract-plugin","import React, { useState, useEffect, useCallback } from \"react\";\r\n\r\nlet logoutTimer;\r\n\r\nconst AuthContext = React.createContext({\r\n\ttoken: \"\",\r\n\tisLoggedIn: false,\r\n\tlogin: (token) => {},\r\n\tlogout: () => {},\r\n\ttimeout: null,\r\n});\r\n\r\nconst calculateRrmainingTime = (expirationTime) => {\r\n\tconst currentTime = new Date().getTime();\r\n\tconst adjExpirationTime = new Date(expirationTime).getTime();\r\n\r\n\tconst remainingDuration = adjExpirationTime - currentTime;\r\n\r\n\treturn remainingDuration;\r\n};\r\n\r\nconst retrieveStoredToken = () => {\r\n\tconst storedToken = localStorage.getItem(\"token\");\r\n\tconst storedExpirationDate = localStorage.getItem(\"expirationTime\");\r\n\r\n\tconst remainingTime = calculateRrmainingTime(storedExpirationDate);\r\n\r\n\tif (remainingTime <= 3000) {\r\n\t\tlocalStorage.removeItem(\"token\");\r\n\t\tlocalStorage.removeItem(\"expirationTime\");\r\n\t\treturn null;\r\n\t}\r\n\r\n\treturn {\r\n\t\ttoken: storedToken,\r\n\t\tduration: remainingTime,\r\n\t};\r\n};\r\n\r\nexport const AuthContextProvider = (props) => {\r\n\tconst tokenData = retrieveStoredToken();\r\n\tlet initialToken;\r\n\r\n\tif (tokenData) {\r\n\t\tinitialToken = tokenData.token;\r\n\t}\r\n\r\n\tconst [token, setToken] = useState(initialToken);\r\n\r\n\tconst userIsLoggedIn = !!token;\r\n\r\n\tconst logoutHandler = useCallback(() => {\r\n\t\tsetToken(null);\r\n\t\tlocalStorage.removeItem(\"token\");\r\n\t\tlocalStorage.removeItem(\"expirationTime\");\r\n\r\n\t\tif (logoutTimer) {\r\n\t\t\tclearTimeout(logoutTimer);\r\n\t\t}\r\n\t}, []);\r\n\r\n\tconst loginHandler = (token, expirationTime) => {\r\n\t\tsetToken(token);\r\n\t\tlocalStorage.setItem(\"token\", token);\r\n\t\tlocalStorage.setItem(\"expirationTime\", expirationTime);\r\n\r\n\t\t// Used to set the timeout correlated with Firebase (1h by default)\r\n\t\t// const remainingTime = calculateRrmainingTime(expirationTime);\r\n\r\n\t\tlogoutTimer = setTimeout(logoutHandler, 3 * 60 * 1000);\r\n\t};\r\n\r\n\tuseEffect(() => {\r\n\t\tif (tokenData) {\r\n\t\t\tlogoutTimer = setTimeout(logoutHandler, tokenData.duration);\r\n\t\t}\r\n\t}, [tokenData, logoutHandler]);\r\n\r\n\tconst contextValue = {\r\n\t\ttoken: token,\r\n\t\tisLoggedIn: userIsLoggedIn,\r\n\t\tlogin: loginHandler,\r\n\t\tlogout: logoutHandler,\r\n\t};\r\n\r\n\treturn (\r\n\t\t<AuthContext.Provider value={contextValue}>\r\n\t\t\t{props.children}\r\n\t\t</AuthContext.Provider>\r\n\t);\r\n};\r\n\r\nexport default AuthContext;\r\n","import { Link, useHistory } from \"react-router-dom\";\n\nimport { useContext } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\n\nimport classes from \"./MainNavigation.module.css\";\n\nconst MainNavigation = () => {\n\tconst history = useHistory();\n\tconst authCtx = useContext(AuthContext);\n\n\tconst isLoggedIn = authCtx.isLoggedIn;\n\n\tconst logoutHandler = () => {\n\t\tauthCtx.logout();\n\t\thistory.replace(\"/auth\");\n\t};\n\n\treturn (\n\t\t<header className={classes.header}>\n\t\t\t<Link to=\"/\">\n\t\t\t\t<div className={classes.logo}>React Auth</div>\n\t\t\t</Link>\n\t\t\t<nav>\n\t\t\t\t<ul>\n\t\t\t\t\t{!isLoggedIn && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to=\"/auth\">Login</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoggedIn && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<Link to=\"/profile\">Profile</Link>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoggedIn && (\n\t\t\t\t\t\t<li>\n\t\t\t\t\t\t\t<button onClick={logoutHandler}>Logout</button>\n\t\t\t\t\t\t</li>\n\t\t\t\t\t)}\n\t\t\t\t</ul>\n\t\t\t</nav>\n\t\t</header>\n\t);\n};\n\nexport default MainNavigation;\n","import { Fragment } from 'react';\n\nimport MainNavigation from './MainNavigation';\n\nconst Layout = (props) => {\n  return (\n    <Fragment>\n      <MainNavigation />\n      <main>{props.children}</main>\n    </Fragment>\n  );\n};\n\nexport default Layout;\n","import { useRef, useContext } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\nimport { useHistory } from \"react-router-dom\";\n\nimport classes from \"./ProfileForm.module.css\";\n\nconst ProfileForm = () => {\n\tconst history = useHistory();\n\tconst newPasswordInputRef = useRef();\n\tconst authCtx = useContext(AuthContext);\n\n\tconst submitHandler = (event) => {\n\t\tevent.preventDefault();\n\n\t\tconst enteredNewPassword = newPasswordInputRef.current.value;\n\n\t\t// add validation (optional)\n\n\t\tfetch(\n\t\t\t\"https://identitytoolkit.googleapis.com/v1/accounts:update?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\",\n\t\t\t{\n\t\t\t\tmethod: \"POST\",\n\t\t\t\tbody: JSON.stringify({\n\t\t\t\t\tidToken: authCtx.token,\n\t\t\t\t\tpassword: authCtx.password,\n\t\t\t\t\treturnSecureToken: false,\n\t\t\t\t}),\n\t\t\t\theaders: {\n\t\t\t\t\t\"Content-Type\": \"application-json\",\n\t\t\t\t},\n\t\t\t}\n\t\t).then((res) => {\n\t\t\t// assumption: Always succeeds!\n\n\t\t\thistory.replace(\"/\");\n\t\t});\n\t};\n\n\treturn (\n\t\t<form className={classes.form} onSubmit={submitHandler}>\n\t\t\t<div className={classes.control}>\n\t\t\t\t<label htmlFor=\"new-password\">New Password</label>\n\t\t\t\t<input\n\t\t\t\t\ttype=\"password\"\n\t\t\t\t\tid=\"new-password\"\n\t\t\t\t\tminLength=\"6\"\n\t\t\t\t\tref={newPasswordInputRef}\n\t\t\t\t/>\n\t\t\t</div>\n\t\t\t<div className={classes.action}>\n\t\t\t\t<button>Change Password</button>\n\t\t\t</div>\n\t\t</form>\n\t);\n};\n\nexport default ProfileForm;\n","import ProfileForm from \"./ProfileForm\";\nimport classes from \"./UserProfile.module.css\";\n\nconst UserProfile = () => {\n\treturn (\n\t\t<section className={classes.profile}>\n\t\t\t<h1>Your User Profile</h1>\n\t\t\t<ProfileForm />\n\t\t</section>\n\t);\n};\n\nexport default UserProfile;\n","import { useState, useRef, useContext } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\nimport { useHistory } from \"react-router-dom\";\n\nimport classes from \"./AuthForm.module.css\";\n\nconst AuthForm = () => {\n\tconst history = useHistory();\n\tconst [isLogin, setIsLogin] = useState(true);\n\tconst [isLoading, setIsLoading] = useState(false);\n\n\tconst authCtx = useContext(AuthContext);\n\n\tconst emailInputRef = useRef();\n\tconst passwordInputRef = useRef();\n\n\tconst switchAuthModeHandler = () => {\n\t\tsetIsLogin((prevState) => !prevState);\n\t};\n\n\tconst submitHandler = (event) => {\n\t\tevent.preventDefault();\n\n\t\tlet enteredEmail = emailInputRef.current.value;\n\t\tlet eneteredPassword = passwordInputRef.current.value;\n\n\t\t// optional: Add validation\n\n\t\tsetIsLoading(true);\n\t\tlet url;\n\n\t\tif (isLogin) {\n\t\t\turl =\n\t\t\t\t\"https://identitytoolkit.googleapis.com/v1/accounts:signInWithPassword?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\";\n\t\t} else {\n\t\t\turl =\n\t\t\t\t\"https://identitytoolkit.googleapis.com/v1/accounts:signUp?key=AIzaSyDOFmuibYVitUo0fyzOm24I32SlqUm7NOc\";\n\t\t}\n\n\t\tfetch(url, {\n\t\t\tmethod: \"POST\",\n\t\t\tbody: JSON.stringify({\n\t\t\t\temail: enteredEmail,\n\t\t\t\tpassword: eneteredPassword,\n\t\t\t\treturnSecureToken: true,\n\t\t\t}),\n\t\t\theaders: {\n\t\t\t\t\"Content-Type\": \"application/json\",\n\t\t\t},\n\t\t})\n\t\t\t.then((res) => {\n\t\t\t\tsetIsLoading(false);\n\t\t\t\tif (res.ok) {\n\t\t\t\t\temailInputRef.current.value = \"\";\n\t\t\t\t\tpasswordInputRef.current.value = \"\";\n\n\t\t\t\t\treturn res.json();\n\t\t\t\t} else {\n\t\t\t\t\tpasswordInputRef.current.value = \"\";\n\t\t\t\t\tpasswordInputRef.current.focus();\n\n\t\t\t\t\treturn res.json().then((data) => {\n\t\t\t\t\t\t// show an error modal\n\t\t\t\t\t\t// console.log(data.error.message);\n\t\t\t\t\t\tlet errorMessage = \"Authentication failed!\";\n\t\t\t\t\t\tif (data && data.error && data.error.message) {\n\t\t\t\t\t\t\terrorMessage = data.error.message;\n\t\t\t\t\t\t}\n\t\t\t\t\t\tthrow new Error(errorMessage);\n\t\t\t\t\t});\n\t\t\t\t}\n\t\t\t})\n\t\t\t.then((data) => {\n\t\t\t\tconst expirationTime = new Date(new Date().getTime() + 3 * 60 * 1000);\n\n\t\t\t\tauthCtx.login(data.idToken, expirationTime.toISOString());\n\t\t\t\thistory.replace(\"/\");\n\t\t\t})\n\t\t\t.catch((err) => {\n\t\t\t\talert(err.message);\n\t\t\t});\n\t};\n\n\treturn (\n\t\t<section className={classes.auth}>\n\t\t\t<h1>{isLogin ? \"Login\" : \"Sign Up\"}</h1>\n\t\t\t<form onSubmit={submitHandler}>\n\t\t\t\t<div className={classes.control}>\n\t\t\t\t\t<label htmlFor=\"email\">Your Email</label>\n\t\t\t\t\t<input type=\"email\" id=\"email\" required ref={emailInputRef} />\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.control}>\n\t\t\t\t\t<label htmlFor=\"password\">Your Password</label>\n\t\t\t\t\t<input\n\t\t\t\t\t\ttype=\"password\"\n\t\t\t\t\t\tid=\"password\"\n\t\t\t\t\t\trequired\n\t\t\t\t\t\tref={passwordInputRef}\n\t\t\t\t\t/>\n\t\t\t\t</div>\n\t\t\t\t<div className={classes.actions}>\n\t\t\t\t\t{!isLoading && (\n\t\t\t\t\t\t<button>{isLogin ? \"Login\" : \"Create Account\"}</button>\n\t\t\t\t\t)}\n\t\t\t\t\t{isLoading && <p style={{ color: \"white\" }}>Sending request...</p>}\n\t\t\t\t\t<button\n\t\t\t\t\t\ttype=\"button\"\n\t\t\t\t\t\tclassName={classes.toggle}\n\t\t\t\t\t\tonClick={switchAuthModeHandler}\n\t\t\t\t\t>\n\t\t\t\t\t\t{isLogin ? \"Create new account\" : \"Login with existing account\"}\n\t\t\t\t\t</button>\n\t\t\t\t</div>\n\t\t\t</form>\n\t\t</section>\n\t);\n};\n\nexport default AuthForm;\n","import AuthForm from '../components/Auth/AuthForm';\n\nconst AuthPage = () => {\n  return <AuthForm />;\n};\n\nexport default AuthPage;\n","import classes from \"./StartingPageContent.module.css\";\nimport { useContext, useState, useEffect } from \"react\";\nimport AuthContext from \"../../store/auth-context\";\n\nconst StartingPageContent = () => {\n\tconst authCtx = useContext(AuthContext);\n\n\t// Takes the declared time in AuthForm (3 minutes) in miliseconds\n\tconst time =\n\t\tnew Date(localStorage.getItem(\"expirationTime\")).getTime() -\n\t\tnew Date(new Date().getTime());\n\n\tconst [timer, setTimer] = useState(time);\n\n\t// Formates to minutes and seconds\n\tconst timeout = `${Math.floor(time / 1000 / 60)} minute(s) and ${Math.floor(\n\t\t(time / 1000) % 60\n\t)} second(s) left`;\n\n\tuseEffect(() => {\n\t\tconst updateTimer = () => {\n\t\t\tsetTimer(timer - 1000);\n\t\t};\n\t\tconst timeout = setTimeout(updateTimer, 1000);\n\n\t\treturn () => {\n\t\t\tclearTimeout(timeout);\n\t\t};\n\t}, [timer]);\n\n\treturn (\n\t\t<section className={classes.starting}>\n\t\t\t{!authCtx.isLoggedIn ? (\n\t\t\t\t<h2>You're not logged in!</h2>\n\t\t\t) : (\n\t\t\t\t<>\n\t\t\t\t\t<h1>You're logged in!</h1>\n\t\t\t\t\t<p>You will be logged out automatically after 3 minutes.</p>\n\t\t\t\t\t<p>{timeout}</p>\n\t\t\t\t</>\n\t\t\t)}\n\t\t</section>\n\t);\n};\n\nexport default StartingPageContent;\n","import StartingPageContent from '../components/StartingPage/StartingPageContent';\n\nconst HomePage = () => {\n  return <StartingPageContent />;\n};\n\nexport default HomePage;\n","import { Switch, Route, Redirect } from \"react-router-dom\";\n\nimport { useContext } from \"react\";\nimport AuthContext from \"./store/auth-context\";\n\nimport Layout from \"./components/Layout/Layout\";\nimport UserProfile from \"./components/Profile/UserProfile\";\nimport AuthPage from \"./pages/AuthPage\";\nimport HomePage from \"./pages/HomePage\";\n\nfunction App() {\n\tconst authCtx = useContext(AuthContext);\n\n\treturn (\n\t\t<Layout>\n\t\t\t<Switch>\n\t\t\t\t<Route path=\"/\" exact>\n\t\t\t\t\t<HomePage />\n\t\t\t\t</Route>\n\t\t\t\t{!authCtx.isLoggedIn && (\n\t\t\t\t\t<Route path=\"/auth\">\n\t\t\t\t\t\t<AuthPage />\n\t\t\t\t\t</Route>\n\t\t\t\t)}\n\t\t\t\t<Route path=\"/profile\">\n\t\t\t\t\t{authCtx.isLoggedIn && <UserProfile />}\n\t\t\t\t\t{!authCtx.isLoggedIn && <Redirect to=\"/auth\" />}\n\t\t\t\t</Route>\n\t\t\t\t<Route path=\"*\">\n\t\t\t\t\t<Redirect to=\"/\" />\n\t\t\t\t</Route>\n\t\t\t</Switch>\n\t\t</Layout>\n\t);\n}\n\nexport default App;\n","import ReactDOM from \"react-dom/client\";\nimport { BrowserRouter } from \"react-router-dom\";\n\nimport \"./index.css\";\nimport App from \"./App\";\nimport { AuthContextProvider } from \"./store/auth-context\";\n\nconst root = ReactDOM.createRoot(document.getElementById(\"root\"));\nroot.render(\n\t<AuthContextProvider>\n\t\t<BrowserRouter>\n\t\t\t<App />\n\t\t</BrowserRouter>\n\t</AuthContextProvider>\n);\n"]}}
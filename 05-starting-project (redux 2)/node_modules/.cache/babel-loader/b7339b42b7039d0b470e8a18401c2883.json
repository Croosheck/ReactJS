{"ast":null,"code":"import { showCart } from \"./index\";\nimport { modifyProduct } from \"./index\";\nexport const fetchCartData = () => {\n  return async dispatch => {\n    const fetchData = async () => {\n      const response = await fetch(\"https://some-cart-products-default-rtdb.firebaseio.com/cart.json\");\n\n      if (!response.ok) {\n        throw new Error(\"Could not fetch cart data\");\n      }\n\n      const data = await response.json();\n      return data;\n    };\n\n    try {\n      const cartData = await fetchData();\n      dispatch(modifyProduct.replaceCart({}));\n    } catch (error) {\n      dispatch(showCart.showNotification({\n        status: \"error\",\n        title: \"Error!\",\n        message: \"Fetching cart data failed!\"\n      }));\n    }\n  };\n};","map":{"version":3,"sources":["C:/Users/bobso/Desktop/React Projects/05-starting-project (redux 2)/src/store/cart-actions.js"],"names":["showCart","modifyProduct","fetchCartData","dispatch","fetchData","response","fetch","ok","Error","data","json","cartData","replaceCart","error","showNotification","status","title","message"],"mappings":"AAAA,SAASA,QAAT,QAAyB,SAAzB;AACA,SAASC,aAAT,QAA8B,SAA9B;AAEA,OAAO,MAAMC,aAAa,GAAG,MAAM;AAClC,SAAO,MAAOC,QAAP,IAAoB;AAC1B,UAAMC,SAAS,GAAG,YAAY;AAC7B,YAAMC,QAAQ,GAAG,MAAMC,KAAK,CAC3B,kEAD2B,CAA5B;;AAIA,UAAI,CAACD,QAAQ,CAACE,EAAd,EAAkB;AACjB,cAAM,IAAIC,KAAJ,CAAU,2BAAV,CAAN;AACA;;AAED,YAAMC,IAAI,GAAG,MAAMJ,QAAQ,CAACK,IAAT,EAAnB;AAEA,aAAOD,IAAP;AACA,KAZD;;AAcA,QAAI;AACH,YAAME,QAAQ,GAAG,MAAMP,SAAS,EAAhC;AACAD,MAAAA,QAAQ,CAACF,aAAa,CAACW,WAAd,CAA0B,EAA1B,CAAD,CAAR;AACA,KAHD,CAGE,OAAOC,KAAP,EAAc;AACfV,MAAAA,QAAQ,CACPH,QAAQ,CAACc,gBAAT,CAA0B;AACzBC,QAAAA,MAAM,EAAE,OADiB;AAEzBC,QAAAA,KAAK,EAAE,QAFkB;AAGzBC,QAAAA,OAAO,EAAE;AAHgB,OAA1B,CADO,CAAR;AAOA;AACD,GA3BD;AA4BA,CA7BM","sourcesContent":["import { showCart } from \"./index\";\r\nimport { modifyProduct } from \"./index\";\r\n\r\nexport const fetchCartData = () => {\r\n\treturn async (dispatch) => {\r\n\t\tconst fetchData = async () => {\r\n\t\t\tconst response = await fetch(\r\n\t\t\t\t\"https://some-cart-products-default-rtdb.firebaseio.com/cart.json\"\r\n\t\t\t);\r\n\r\n\t\t\tif (!response.ok) {\r\n\t\t\t\tthrow new Error(\"Could not fetch cart data\");\r\n\t\t\t}\r\n\r\n\t\t\tconst data = await response.json();\r\n\r\n\t\t\treturn data;\r\n\t\t};\r\n\r\n\t\ttry {\r\n\t\t\tconst cartData = await fetchData();\r\n\t\t\tdispatch(modifyProduct.replaceCart({}));\r\n\t\t} catch (error) {\r\n\t\t\tdispatch(\r\n\t\t\t\tshowCart.showNotification({\r\n\t\t\t\t\tstatus: \"error\",\r\n\t\t\t\t\ttitle: \"Error!\",\r\n\t\t\t\t\tmessage: \"Fetching cart data failed!\",\r\n\t\t\t\t})\r\n\t\t\t);\r\n\t\t}\r\n\t};\r\n};\r\n"]},"metadata":{},"sourceType":"module"}